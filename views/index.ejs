<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
</head>
<nav class="navbar d-flex justify-content-center bg-primary text-white d">
    <h2>Todo App</h2>
</nav>
<div class="container d-flex justify-content-center align-items-center" style="height: 100vh;">


    <div class="border border-2 border-primary rounded-2 p-4">
        <h3>Todo App</h3>
        <form action="/add-task" method="post" class="mb-2" id="add-task">
            <div class="input-group">
                <input type="text" class="form-control" name="task" id="task-input">
                <button class="btn btn-primary" type="submit">
                    <i class="fa-solid fa-plus" style="color: #ffffff; font-size: 20px;"></i>
                </button>
            </div>
        </form>

        <div class="d-flex flex-column">
            <% if(isEmpty){ %>
                <p class="mb-0 text-center">No Task Added</p>
                <% }else{ %>

                    <% for(let i=0; i < task.length; i++){ %>
                        <div class="d-flex justify-content-between align-items-center mb-1">
                            <div class="bg-primary p-2 rounded-0 rounded-start" style="width: 100%;">
                                <p class="m-0 text-white">
                                    <%= task[i].task %>
                                </p>
                            </div>
                            <form action="/delete-task" method="post">

                                <button class="btn btn-danger rounded-end rounded-0" value="<%= task[i].task %>"
                                    name="task" type="submit">
                                    <i class="fa-solid fa-trash" style="color: #ffffff; font-size: 23px;"></i>
                                </button>
                            </form>
                        </div>

                        <% } %>

                            <% } %>



                                <form action="/delete-all-task" method="post" class="d-inline-flex justify-content-end">
                                    <div>

                                        <button class="btn btn-danger" type="submit">Clear All</button>

                                    </div>
                                </form>

        </div>

    </div>
</div>


<body>

</body>

</html>

<!-- <script>
    document.getElementById("add-task").addEventListener("submit", async (e) => {
        const input = document.getElementById("task-input").value.trim();

        if (input.length === 0) {
            e.preventDefault();
            Swal.fire({
                title: "Warning!",
                text: "Input must not be empty",
                icon: "warning"
            });
        } else {
            const response = await fetch('/add-task', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ input })
            });

            if (response.ok) {
                Swal.fire({
                    title: "Success!",
                    text: "Input must not be empty",
                    icon: "warning"
                }).then(() => {
                    window.locati
                })
            }
        }
    })
</script> -->